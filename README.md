# Packet Sniffer

Консольное приложение на C++, предназначенное для перехвата и анализа сетевых пакетов с использованием библиотеки `libpcap`. Проект реализует базовую функциональность сниффера с поддержкой фильтрации, форматированного вывода и модульного тестирования.

## Возможности

- Захват и отображение пакетов Ethernet, IP, TCP и UDP;
- Применение фильтров с использованием BPF (Berkeley Packet Filter);
- Удобный формат вывода, аналогичный Wireshark;
- Модульные тесты с использованием фреймворка `doctest`;
- Поддержка генерации документации через Doxygen;
- Автоматическое форматирование с использованием clang-format.

## Требования

- CMake >= 3.10
- Компилятор C++17 (g++ или clang++)
- libpcap-dev
- Doxygen (для документации)
- Clang-format (для форматирования кода)

## Сборка

```bash
git clone https://github.com/FunGodTM/aip-c-project.git
cd aip-c-project
mkdir build && cd build
cmake ..
make
```


## Запуск

Для корректной работы требуется запуск от имени суперпользователя:

```bash
sudo ./packet_sniffer
```

Программа предложит выбрать интерфейс, задать фильтр (опционально) и указать количество пакетов для анализа.

Пример фильтра:

```
tcp port 80
```

## Примеры фильтров

| Фильтр                 | Назначение                     |
| ---------------------- | ------------------------------ |
| `tcp`                  | Только TCP-пакеты              |
| `udp`                  | Только UDP-пакеты              |
| `icmp`                 | Только ICMP-пакеты             |
| `port 53`              | DNS-трафик                     |
| `tcp port 443`         | HTTPS-трафик                   |
| `src host 192.168.0.1` | Только пакеты от указанного IP |
| `dst port 22`          | SSH-трафик                     |

## Тестирование

Модульные тесты находятся в директории `tests`.

Запуск:

```bash
sudo ctest
```

Или:

```bash
sudo ./tests
```

> Использование `sudo` необходимо для доступа к интерфейсам.

## Документация

Для генерации документации:

```bash
doxygen Doxyfile
```

Результат будет находиться в `docs/html/index.html`.

## Форматирование

Для приведения кода к единому стилю (файл `.clang-format` включен в проект):

```bash
clang-format -i src/*.cpp src/*.h tests/*.cpp
```

## Автор

Проект разработан в рамках лабораторной работы по курсу "Алгоритмизация и программирование".

* Автор: FunGodTM
* Репозиторий: [https://github.com/FunGodTM/aip-c-project](https://github.com/FunGodTM/aip-c-project)
